{"mappings":"0DACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,EChBJ,MAAMK,EAQTC,qBACI,MAAMC,EAAe,IAAIC,gBAAgB,CACrCC,EAAGC,KAAKC,MACRC,WAAY,QACZC,YAAa,aACbC,YAAY,EACZb,IAAKI,EAAWU,QAChBC,KAAMN,KAAKM,KACXC,SAAU,KAId,OAAOC,MAAM,GAAGb,EAAWc,YAAYZ,KAClCa,MAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,MAAM,G,CArBlCC,cACIhB,KAAKC,MAAQ,KACbD,KAAKM,KAAO,C,EALhBW,EAAA9B,EAAA,CADSQ,EACF,WAAW,4BAClBsB,EAAA9B,EAAA,CAFSQ,EAEF,UAAU,sCCFd,MAAMuB,EAAqBC,GACPA,EAAUC,KAAIC,GAC1B,uFAE+BA,EAAUC,sBAAsBD,EAAUE,0IAGtDF,EAAUG,+GAGVH,EAAUI,kHAGPJ,EAAUK,sHAGTL,EAAUM,oFAIpCC,KAAK,I,eCjBjB,MAAMC,EAAO,CACTC,aAAcC,SAASC,cAAc,gBACrCC,UAAWF,SAASC,cAAc,YAClCE,cAAeH,SAASC,cAAc,eAGpCG,EAAa,IAAIxC,EA4DvBkC,EAAKC,aAAaM,iBAAiB,UA1DNC,IACzBA,EAAMC,iBAENH,EAAWlC,MAAQoC,EAAME,OAAOC,YAAYpD,MAAMqD,OAElDN,EAAW7B,KAAO,EAEO,KAArB6B,EAAWlC,MAMfkC,EAAWvC,qBACNc,MAAKgC,IAGF,GAFAC,QAAQC,IAAIF,GAEW,IAAnBA,EAAKG,UASL,OARAC,MAAKC,MAAAC,CAAA,gCAELX,EAAME,OAAOU,QAEbpB,EAAKI,UAAUiB,UAAY,QAE3BrB,EAAKK,cAAciB,UAAUC,IAAI,aAKd,IAAnBV,EAAKG,YACLhB,EAAKI,UAAUiB,UAAYhC,EAAmBwB,EAAKW,MACnDxB,EAAKK,cAAciB,UAAUC,IAAI,cAGrCvB,EAAKI,UAAUiB,UAAYhC,EAAmBwB,EAAKW,MACnDxB,EAAKK,cAAciB,UAAUG,OAAO,YAAY,IAEnDC,OAAMC,IACHb,QAAQC,IAAIY,EAAI,IA9BpBV,MAAKW,MAAAT,CAAA,4BA+BH,IAoBVnB,EAAKK,cAAcE,iBAAiB,SAjBPC,IACzBF,EAAW7B,MAAQ,EACnB6B,EAAWvC,qBACNc,MAAKgC,IACFb,EAAKI,UAAUyB,mBAAmB,YAAaxC,EAAmBwB,EAAKW,OAEnElB,EAAW7B,OAASoC,EAAKG,WAC1BhB,EAAKK,cAAciB,UAAUC,IAAI,YAAY,IAGnDG,OAAMC,IACHb,QAAQC,IAAIY,EAAI,GAClB","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/pixabay-api.js","src/gallery-cards.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export class PixabayAPI { \n    static BASE_URL = `https://pixabay.com/api/`;\n    static API_KEY = `39423334-465aef10dece7a90d90ef79ec`;\n\n    constructor() {\n        this.query = null;\n        this.page = 1;\n    }\n    fetchPhotosByQuery() {\n        const searchParams = new URLSearchParams({\n            q: this.query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,  \n            key: PixabayAPI.API_KEY,\n            page: this.page,\n            per_page: 40,\n\n        })\n\n        return fetch(`${PixabayAPI.BASE_URL}?${searchParams}`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            }\n        );            \n    }\n};\n\n// fetch(`https://pixabay.com/api/?key=39423334-465aef10dece7a90d90ef79ec&q=auto&image_type=photo&orientation=horizontal&safesearch=true`)\n//     .then(response => {\n//         if (!response.ok) {\n//             throw new Error(response.status);\n//         }\n//         return response.json();\n//     })\n//     .then(data => {\n//         console.log(data);\n//     })\n//     .catch(err => {\n//         console.log(err);\n//     });","export const createGalleryCards = photosArr => { \n    const photosTemplate = photosArr.map(photoInfo => {\n        return `\n            <div class=\"photo-card\">\n                <img class=\"photo-img\" src=\"${photoInfo.webformatURL}\" alt=\"${photoInfo.tags}\" loading=\"lazy\"/>\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                    <b>Likes</b>${photoInfo.likes}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Views</b>${photoInfo.views}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Comments</b>${photoInfo.comments}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Downloads</b>${photoInfo.downloads}\n                    </p>\n                </div>\n            </div>`;\n         }).join('');\n    return photosTemplate;\n};","import { PixabayAPI } from \"./pixabay-api\";\nimport { createGalleryCards } from \"./gallery-cards\";\n\nconst refs = {\n    searchFormEl: document.querySelector('#search-form'),\n    galleryEl: document.querySelector('.gallery'),\n    loadMoreBtnEl: document.querySelector('.load-more'),\n};\n\nconst pixabayAPI = new PixabayAPI();\n\nconst onSearchFormElSubmit = event => {\n    event.preventDefault();\n\n    pixabayAPI.query = event.target.searchQuery.value.trim();\n\n    pixabayAPI.page = 1;\n\n    if (pixabayAPI.query === '') {\n        alert`Введіть слово для пошуку`\n        \n        return;\n    }\n        \n    pixabayAPI.fetchPhotosByQuery()\n        .then(data => {\n            console.log(data);\n\n            if (data.totalHits === 0) {\n                alert`Некоректне слово для пошуку`\n\n                event.target.reset();\n\n                refs.galleryEl.innerHTML = '';\n\n                refs.loadMoreBtnEl.classList.add('is-hidden');\n\n                return;\n            }\n\n            if (data.totalHits === 1) {\n                refs.galleryEl.innerHTML = createGalleryCards(data.hits);\n                refs.loadMoreBtnEl.classList.add('is-hidden');\n            }\n\n            refs.galleryEl.innerHTML = createGalleryCards(data.hits);\n            refs.loadMoreBtnEl.classList.remove('is-hidden');\n        })\n        .catch(err => {\n            console.log(err);\n        });\n}\n\nconst onLoadMoreBtnElClick = event => { \n    pixabayAPI.page += 1;\n    pixabayAPI.fetchPhotosByQuery()\n        .then(data => {\n            refs.galleryEl.insertAdjacentHTML('beforeend', createGalleryCards(data.hits));\n\n            if (pixabayAPI.page === data.totalHits) {\n               refs.loadMoreBtnEl.classList.add('is-hidden'); \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n\n};\n\nrefs.searchFormEl.addEventListener('submit', onSearchFormElSubmit);\nrefs.loadMoreBtnEl.addEventListener('click', onLoadMoreBtnElClick)\n\n\n\n\n\n    "],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$9015b8c578c26baf$export$4fcfbd750f3dd343","fetchPhotosByQuery","searchParams","URLSearchParams","q","this","query","image_type","orientation","safesearch","API_KEY","page","per_page","fetch","BASE_URL","then","response","ok","Error","status","json","constructor","$parcel$interopDefault","$4808dd81036fe259$export$e5fe54de13a924ea","photosArr","map","photoInfo","webformatURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$refs","searchFormEl","document","querySelector","galleryEl","loadMoreBtnEl","$1f0dc3b9307be026$var$pixabayAPI","addEventListener","event","preventDefault","target","searchQuery","trim","data","console","log","totalHits","alert","$1f0dc3b9307be026$var$t1","$1f0dc3b9307be026$var$_","reset","innerHTML","classList","add","hits","remove","catch","err","$1f0dc3b9307be026$var$t","insertAdjacentHTML"],"version":3,"file":"index.3be1ba88.js.map"}