{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAgCC,EAASC,GAChCA,IACDA,EAAMD,EAAQE,MAAM,IAExB,OAAOP,OAAOQ,OAAOR,OAAOS,iBAAiBJ,EAAS,CAClDC,IAAK,CACDH,MAAOH,OAAOQ,OAAOF,M,WCVjCN,OAAOC,eAAeS,EAAS,aAAc,CACzCP,OAAO,IAEXO,EAAQN,QACR,SAAyBO,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDtB,OAAOC,eAAec,EAAQI,EAAWI,IAAKJ,E,EAftDnB,OAAOC,eAAeuB,EAAS,aAAc,CACzCrB,OAAO,IAEXqB,EAAQpB,QACR,SAAsBQ,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,WCPXZ,OAAOC,eAAe2B,EAAS,aAAc,CACzCzB,OAAO,IAEXyB,EAAQxB,QACR,SAAyByB,EAAKN,EAAKpB,GAC3BoB,KAAOM,EACP7B,OAAOC,eAAe4B,EAAKN,EAAK,CAC5BpB,MAAOA,EACPiB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdO,EAAIN,GAAOpB,EAEf,OAAO0B,C,EChBJ,IAAAC,EA+BL,W,sBA/BWC,I,aAKLC,KAAKC,MAAQ,KACbD,KAAKE,KAAO,C,iBAEhBX,IAAA,qB,MAAA,WACI,IAAMY,EAAe,IAAIC,gBAAgB,CACrCC,EAAGL,KAAKC,MACRK,WAAY,QACZC,YAAa,aACbC,YAAY,EACZjB,IAAKQ,EAAWU,QAChBP,KAAMF,KAAKE,KACXQ,SAAU,KAId,OAAOC,MAAM,GAA0BC,OAAvBb,EAAWc,SAAS,KAAgBD,OAAbT,IAClCW,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,M,UAM9B,GA9BEC,EAAAxB,EAAA,CADSE,EACF,WAAY,4BACnBsB,EAAAxB,EAAA,CAFSE,EAEF,UAAW,sCCFf,IAAMuB,EAAqB,SAAAC,GAqB9B,OApBuBA,EAAUC,KAAI,SAAAC,GACjC,MAAO,uFAE+DZ,OAAhCY,EAAUC,aAAa,WAGnCb,OAH4CY,EAAUE,KAAK,uIAM3Dd,OAHAY,EAAUG,MAAM,2GAMbf,OAHHY,EAAUI,MAAM,8GAMZhB,OAHDY,EAAUK,SAAS,+GAGEjB,OAApBY,EAAUM,UAAU,yE,IAI9CC,KAAK,G,iLCjBjB,IAAMC,EAAO,CACTC,aAAcC,SAASC,cAAc,gBACrCC,UAAWF,SAASC,cAAc,YAClCE,cAAeH,SAASC,cAAc,eAGpCG,EAAa,IAAIxC,EA4DvBkC,EAAKC,aAAaM,iBAAiB,UA1DN,SAAAC,GACzBA,EAAMC,iBAENH,EAAWrC,MAAQuC,EAAMzD,OAAO2D,YAAYvE,MAAMwE,OAElDL,EAAWpC,KAAO,EAEO,KAArBoC,EAAWrC,MAMfqC,EAAWM,qBACN9B,MAAK,SAAA+B,GAGF,GAFAC,QAAQC,IAAIF,GAEW,IAAnBA,EAAKG,UASL,OARAC,MAAKC,KAELV,EAAMzD,OAAOoE,QAEbnB,EAAKI,UAAUgB,UAAY,QAE3BpB,EAAKK,cAAcgB,UAAUC,IAAI,aAKd,IAAnBT,EAAKG,YACLhB,EAAKI,UAAUgB,UAAY/B,EAAmBwB,EAAKU,MACnDvB,EAAKK,cAAcgB,UAAUC,IAAI,cAGrCtB,EAAKI,UAAUgB,UAAY/B,EAAmBwB,EAAKU,MACnDvB,EAAKK,cAAcgB,UAAUG,OAAO,Y,IAEvCC,OAAM,SAAAC,GACHZ,QAAQC,IAAIW,E,IA9BhBT,MAAKU,I,IAmDb3B,EAAKK,cAAcE,iBAAiB,SAjBP,SAAAC,GACzBF,EAAWpC,MAAQ,EACnBoC,EAAWM,qBACN9B,MAAK,SAAA+B,GACFb,EAAKI,UAAUwB,mBAAmB,YAAavC,EAAmBwB,EAAKU,OAEnEjB,EAAWpC,OAAS2C,EAAKG,WAC1BhB,EAAKK,cAAcgB,UAAUC,IAAI,Y,IAGvCG,OAAM,SAAAC,GACHZ,QAAQC,IAAIW,E","sources":["node_modules/@swc/helpers/lib/_tagged_template_literal.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_define_property.js","src/pixabay-api.js","src/gallery-cards.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _taggedTemplateLiteral;\nfunction _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n        raw = strings.slice(0);\n    }\n    return Object.freeze(Object.defineProperties(strings, {\n        raw: {\n            value: Object.freeze(raw)\n        }\n    }));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export class PixabayAPI { \n    static BASE_URL = `https://pixabay.com/api/`;\n    static API_KEY = `39423334-465aef10dece7a90d90ef79ec`;\n\n    constructor() {\n        this.query = null;\n        this.page = 1;\n    }\n    fetchPhotosByQuery() {\n        const searchParams = new URLSearchParams({\n            q: this.query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,  \n            key: PixabayAPI.API_KEY,\n            page: this.page,\n            per_page: 40,\n\n        })\n\n        return fetch(`${PixabayAPI.BASE_URL}?${searchParams}`)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            }\n        );            \n    }\n};\n\n// fetch(`https://pixabay.com/api/?key=39423334-465aef10dece7a90d90ef79ec&q=auto&image_type=photo&orientation=horizontal&safesearch=true`)\n//     .then(response => {\n//         if (!response.ok) {\n//             throw new Error(response.status);\n//         }\n//         return response.json();\n//     })\n//     .then(data => {\n//         console.log(data);\n//     })\n//     .catch(err => {\n//         console.log(err);\n//     });","export const createGalleryCards = photosArr => { \n    const photosTemplate = photosArr.map(photoInfo => {\n        return `\n            <div class=\"photo-card\">\n                <img class=\"photo-img\" src=\"${photoInfo.webformatURL}\" alt=\"${photoInfo.tags}\" loading=\"lazy\"/>\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                    <b>Likes</b>${photoInfo.likes}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Views</b>${photoInfo.views}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Comments</b>${photoInfo.comments}\n                    </p>\n                    <p class=\"info-item\">\n                    <b>Downloads</b>${photoInfo.downloads}\n                    </p>\n                </div>\n            </div>`;\n         }).join('');\n    return photosTemplate;\n};","import { PixabayAPI } from \"./pixabay-api\";\nimport { createGalleryCards } from \"./gallery-cards\";\n\nconst refs = {\n    searchFormEl: document.querySelector('#search-form'),\n    galleryEl: document.querySelector('.gallery'),\n    loadMoreBtnEl: document.querySelector('.load-more'),\n};\n\nconst pixabayAPI = new PixabayAPI();\n\nconst onSearchFormElSubmit = event => {\n    event.preventDefault();\n\n    pixabayAPI.query = event.target.searchQuery.value.trim();\n\n    pixabayAPI.page = 1;\n\n    if (pixabayAPI.query === '') {\n        alert`Введіть слово для пошуку`\n        \n        return;\n    }\n        \n    pixabayAPI.fetchPhotosByQuery()\n        .then(data => {\n            console.log(data);\n\n            if (data.totalHits === 0) {\n                alert`Некоректне слово для пошуку`\n\n                event.target.reset();\n\n                refs.galleryEl.innerHTML = '';\n\n                refs.loadMoreBtnEl.classList.add('is-hidden');\n\n                return;\n            }\n\n            if (data.totalHits === 1) {\n                refs.galleryEl.innerHTML = createGalleryCards(data.hits);\n                refs.loadMoreBtnEl.classList.add('is-hidden');\n            }\n\n            refs.galleryEl.innerHTML = createGalleryCards(data.hits);\n            refs.loadMoreBtnEl.classList.remove('is-hidden');\n        })\n        .catch(err => {\n            console.log(err);\n        });\n}\n\nconst onLoadMoreBtnElClick = event => { \n    pixabayAPI.page += 1;\n    pixabayAPI.fetchPhotosByQuery()\n        .then(data => {\n            refs.galleryEl.insertAdjacentHTML('beforeend', createGalleryCards(data.hits));\n\n            if (pixabayAPI.page === data.totalHits) {\n               refs.loadMoreBtnEl.classList.add('is-hidden'); \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n\n};\n\nrefs.searchFormEl.addEventListener('submit', onSearchFormElSubmit);\nrefs.loadMoreBtnEl.addEventListener('click', onLoadMoreBtnElClick)\n\n\n\n\n\n    "],"names":["Object","defineProperty","$9150774b557bdbfe$exports","value","default","strings","raw","slice","freeze","defineProperties","$665014edacbfe17b$exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$cec85eba0a352189$exports","obj","$bd7acc5ffc0149cc$export$4fcfbd750f3dd343","PixabayAPI","this","query","page","searchParams","URLSearchParams","q","image_type","orientation","safesearch","API_KEY","per_page","fetch","concat","BASE_URL","then","response","ok","Error","status","json","$parcel$interopDefault","$b1498546f5cfad77$export$e5fe54de13a924ea","photosArr","map","photoInfo","webformatURL","tags","likes","views","comments","downloads","join","$b8f9b7833fa37166$var$refs","searchFormEl","document","querySelector","galleryEl","loadMoreBtnEl","$b8f9b7833fa37166$var$pixabayAPI","addEventListener","event","preventDefault","searchQuery","trim","fetchPhotosByQuery","data","console","log","totalHits","alert","$b8f9b7833fa37166$var$_templateObject1","reset","innerHTML","classList","add","hits","remove","catch","err","$b8f9b7833fa37166$var$_templateObject","insertAdjacentHTML"],"version":3,"file":"index.53526d08.js.map"}